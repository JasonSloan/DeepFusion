from collections import namedtuple
import numpy as np

Camera = namedtuple("Camera", field_names=["index", "width", "height"])


# -----------------------------------双目相机的基本参数---------------------------------------------------------
#   left_camera_matrix          左相机的内参矩阵
#   right_camera_matrix         右相机的内参矩阵
#
#   left_distortion             左相机的畸变系数    格式(K1,K2,P1,P2,0)
#   right_distortion            右相机的畸变系数    格式(K1,K2,P1,P2,0)
#   R                           左相机到右相机的旋转矩阵
#   T                           左相机到右相机的平移矩阵
# -------------------------------------------------------------------------------------------------------------
camera_params = {
    "left": {
        "camera_matrix": np.array(
            [
                [516.5066236, -1.444673028, 320.2950423],
                [0, 516.5816117, 270.7881873],
                [0.0, 0.0, 1.0],
            ]
        ),
        "distortion": np.array(
            [[-0.046645194, 0.077595167, 0.012476819, -0.000711358, 0]]
        ),
    },
    "right": {
        "camera_matrix": np.array(
            [
                [511.8428182, 1.295112628, 317.310253],
                [0, 513.0748795, 269.5885026],
                [0.0, 0.0, 1.0],
            ]
        ),
        "distortion": np.array(
            [[-0.061588946, 0.122384376, 0.011081232, -0.000750439, 0]]
        ),
    },
    "R": np.array(
        [
            [0.999911333, -0.004351508, 0.012585312],
            [0.004184066, 0.999902792, 0.013300386],
            [-0.012641965, -0.013246549, 0.999832341],
        ]
    ),
    "T": np.array([-120.3559901, -0.188953775, -0.662073075]),
}
# camera_params = {
#     "left": {
#         "camera_matrix": np.array(
#             [
#                 [769.450207522054, 1.84163244924872, 380.903495320060],
#                 [0, 768.694381047375, 198.337037995430],
#                 [0.0, 0.0, 1.0],
#             ]
#         ),
#         "distortion": np.array(
#             [
#                 [
#                     -0.324557642726290,
#                     1.12866627439936,
#                     0.00215524786305486,
#                     0.00203076442257744,
#                     0,
#                 ]
#             ]
#         ),
#     },
#     "right": {
#         "camera_matrix": np.array(
#             [
#                 [772.196579298343, 2.08489326727622, 349.305964468409],
#                 [0, 771.524746278932, 309.591113604261],
#                 [0.0, 0.0, 1.0],
#             ]
#         ),
#         "distortion": np.array(
#             [
#                 [
#                     -0.260427139614845,
#                     0.535588212230566,
#                     -0.00217407800833332,
#                     -0.00603035518824641,
#                     0,
#                 ]
#             ]
#         ),
#     },
#     "R": np.array(
#         [
#             [0.999983485100327, 0.00206218359950039, 0.00536441286681403],
#             [-0.00200061743325074, 0.999932365792477, -0.0114569354779710],
#             [-0.00538767635344417, 0.0114460141299305, 0.999919977650236],
#         ]
#     ),
#     "T": np.array([-86.5192855171917, -0.614122268814354, -3.09041590476649]),
# }
