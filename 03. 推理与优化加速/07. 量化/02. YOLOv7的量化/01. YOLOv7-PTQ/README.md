##yolov7-ptq流程

**敏感层分析模块:**

加载模型---->将模型的量化方法设置为直方图---->将模型的普通算子(torch.nn.Conv等)替换为量化算子(pytorch_quantization.nn.QuantConv2d等)---->加载dataloader---->开启校准器, 使用训练集的图片进行前向从而对模型的参数以及输入进行校准(真正的量化操作)--->遍历模型的每一层, 禁用该层的量化(使用fp16), 计算mAP值并记录----> 得到"禁用某一层后"mAP值最大的前10层(该10层为敏感层)

**量化后保存:**

加载模型---->将模型的量化方法设置为直方图---->将模型的普通算子(torch.nn.Conv等)替换为量化算子(pytorch_quantization.nn.QuantConv2d等)(可以指定忽略某些敏感层)---->加载dataloader---->开启校准器, 使用训练集的图片进行前向从而对模型的参数以及输入进行校准(真正的量化操作)--->使用验证集评估量化前和量化后的mAP值区别---->保存量化后的模型