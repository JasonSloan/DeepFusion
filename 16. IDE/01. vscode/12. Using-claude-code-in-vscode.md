## 1. 安装nodejs

下载nodejs预编译包：[地址](https://nodejs.org/en/download)

将预编译包放在`/usr/local`下：

```bash
tar -xf node-v22.18.0-linux-x64.tar.xz 
mkdir /usr/local/nodejs
mv node-v22.18.0-linux-x64 /usr/local/nodejs
echo 'export PATH=/usr/local/nodejs/node-v22.18.0-linux-x64/bin:$PATH' >> ~/.bashrc
source ~/.bashrc
node -v # 验证是否好用
```

## 2. 安装claude-code

```bash
npm install -g @anthropic-ai/claude-code --registry=https://registry.npmmirror.com
```

在命令行中敲入：

```bash
claude
```

会出现如下：

![](assets/3.jpg)

找到`.claude.json`配置文件，一般在家目录下，并打开添加如下几行配置：

![](assets/4.jpg)

```bash
  "hasCompletedOnboarding": true,
  "isQualifiedForDataSharing": false,
  "subscriptionNoticeCount": 0,
  "hasAvailableSubscription": false,
  "hasOpusPlanDefault": false,
  "hasIdeOnboardingBeenShown": {
    "unknown": true
  }
```

再次输入`claude`：

![](assets/5.jpg)

## 3. 申请qwen的api key

打开[魔塔社区](https://modelscope.cn/my/overview)

注册账号并绑定阿里云

![](assets/6.jpg)

点击访问令牌，新建访问令牌

![](assets/7.jpg)

## 4. 安装claude code router

[github仓库地址](https://github.com/musistudio/claude-code-router)

```bash
npm install -g @musistudio/claude-code-router --registry=https://registry.npmmirror.com
```

创建配置文件：

```bash
mkdir -p ~/.claude-code-router
vim ~/.claude-code-router/config.json
```

粘贴如下内容， 其中api_key填写刚刚申请的：

```bash
{
  "Providers": [
    {
      "name": "modelscope",
      "api_base_url": "https://api-inference.modelscope.cn/v1/chat/completions",
      "api_key": "your/api/key",
      "models": ["Qwen/Qwen3-Coder-480B-A35B-Instruct", "Qwen/Qwen3-235B-A22B-Thinking-2507"],
      "transformer": {
        "use": [
          [
            "maxtoken",
            {
              "max_tokens": 65536
            }
          ],
          "enhancetool"
        ],
        "Qwen/Qwen3-235B-A22B-Thinking-2507": {
          "use": ["reasoning"]
        }
      }
    }
  ],
  "Router": {
    "default": "modelscope,Qwen/Qwen3-Coder-480B-A35B-Instruct",
  }
}
```

**NOTE:** 更多模型配置方法见clade code router [github仓库地址](https://github.com/musistudio/claude-code-router)

## 5. 开始使用

在你需要使用的工程中输入如下命令, 打开对话框后， 输入你好测试一下是否好用：

```bash
ccr code
```

![](assets/8.jpg)

接入vscode, 输入:

```bash
/ide
```

![](assets/9.jpg)

先初始化，让claude code对工程有个初步学习, 执行如下会生成CLAUDE.md为对当前工程的总结：

```bash
/init
```



